<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html> <head>
     <title>Apophenia: a library for scientific computing</title>
<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>
     <link rel="stylesheet" href="typical.css" type="text/css" >
     <script  type="text/javascript" language="JavaScript" src="tree.js"></script>
</head><body>
     <center><table cellpadding=10pt>
     <tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td> 
    <td><table>
     	<tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
<tr><td><div class="qindex"><a class="qindex" href="index.html">&nbsp;Intro</a> | <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="globals.html">Index</a> <!--| <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
	</td></tr></table></center>
    <div> <!--Doxygen generates an extra </div>.-->
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Data prep rules </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>There are a lot of ways your data can come in, and we would like to run estimations on a reasonably standardized form.</p>
<p>First, this page will give a little rationale, which you are welcome to skip, and then will present the set of rules.</p>
<h1><a class="anchor" id="dataones"></a>
Dealing with the ones column</h1>
<p>Most standard regression-type estimations require or generally expect a constant column. That is, the 0th column of your data is a constant (one), so the first parameter <img class="formulaInl" alt="$\beta_1$" src="form_96.png"/> is slightly special in corresponding to a constant rather than a variable.</p>
<p>However, there are some estimations that do not use the constant column.</p>
<p><em>"Why not implicitly assume the ones column?"</em> Some stats packages implicitly assume a constant column, which the user never sees. This violates the principle of transparency upon which Apophenia is based, and is generally annoying. Given a data matrix <img class="formulaInl" alt="$X$" src="form_2.png"/> with the estimated parameters <img class="formulaInl" alt="$\beta$" src="form_5.png"/>, if the model asserts that the product <img class="formulaInl" alt="$X\beta$" src="form_114.png"/> has meaning, then you should be able to calculate that product. With a ones column, a dot product is one line <code>apop_dot</code>(x, your_est-&gt;parameters, 0, 0)); without a ones column, the problem is left as an unpleasant exercise for the reader.</p>
<h2><a class="anchor" id="datashunt"></a>
Shunting columns around.</h2>
<p>Each regression-type estimation has one dependent variable and several independent. In the end, we want the dependent variable to be in the vector element. However, continuing the <em>"lassies faire"</em> tradition, doing major surgery on the data, such as removing a column and moving in all subsequent columns, is more invasive than an estimation should be.</p>
<h2><a class="anchor" id="datarules"></a>
The rules</h2>
<p>So those are the two main considerations in prepping data. Here are the rules, intended to balance those considerations:</p>
<h3><a class="anchor" id="datamatic"></a>
The automatic case</h3>
<p>There is one clever trick we can use to resolve both the need for a ones column and for having the dependent column in the vector: given a data set with no vector element and the dependent variable in the first column of the matrix, we can copy the dependent variable into the vector and then replace the first column of the matrix with ones. The result fits all of the above expectations.</p>
<p>You as a user merely have to send in a <code><a class="el" href="structapop__data.html">apop_data</a></code> set with no vector and a dependent column in the first column.</p>
<h3><a class="anchor" id="dataprepped"></a>
The already-prepped case</h3>
<p>If your data has a vector element, then the prep routines won't try to force something to be there. That is, they won't move anything, and won't turn anything into a constant column. If you don't want to use a constant column, or your data has already been prepped by an estimation, then this is what you want.</p>
<p>You as a user just have to send in a <code><a class="el" href="structapop__data.html">apop_data</a></code> set with a filled vector element. </p>
</div></div><!-- contents -->
<p><p>
<div class="tiny">Autogenerated by doxygen on Mon Apr 20 2015.</div></body></html>

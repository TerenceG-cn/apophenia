#Adjustments to doxygen's output

# Background color of side pane should match rest of document

sed -i "/background-color/ s|:.*|: #FFFFDE;|" html/navtree.css
sed -i "/nav_h.png/ d" html/navtree.css

#PDF: a 170pp document shouldn't be typeset in sans serif
sed -i "/familydefault.*sfdefault/ d" latex/refman.tex

#No footer
sed -i "/fancyhead/ d" latex/refman.tex
sed -i "/fancyfoot/ d" latex/refman.tex

#Fix enumerations -> model documentation
sed -i -f edit_group.sed latex/group__models.tex
#Rm header list
sed -i -e '/subsection.*Enumer/d' -e'/begin{DoxyCompactItemize}/,/end{DoxyCompactItemize}/d' latex/group__models.tex
#sed -i -e 's/\\cline{.*}$//' -e's/begin{TabularN*C}.*/begin{tabular}{ll}/' -e's/end{TabularN*C}.*/end{tabular}/' latex/group__models.tex
sed -i -e's/\(TabularC}\){2}/\1{3}/' latex/group__models.tex

#Unclutter the ToC by using section*=omit from ToC
sed -i -e 's/subsection{Detailed Description}/subsection*{Detailed Description}/' -e 's/subsection{Field Documentation}/subsection*{Field Documentation}/' latex/*tex

#Bare references to subpages
#sed -i -e's|^\\hyperlink.*hypertarget.*subsection.*label{[^}]*}$||' latex/*tex
sed -i -e's|^\\hyperlink{[^}]*}{[^}]*}$||' latex/*tex

#code looks too small to me. Go one step bigger.
sed -i -e 's/scriptsize/footnotesize/' latex/doxygen.sty

#paragraphs have a lot of space after the header; tighten
sed -i -e'/DoxyParagraph/,+15 s|\(end{list}\)|\1\\vspace{-10pt}|' latex/doxygen.sty

#offset description labels by a few cm
sed -i '$a\
\\renewcommand{\\descriptionlabel}[1]{\\hspace{-2.5cm}\\emph{#1}}' latex/doxygen.sty



#Want search box in header
sed -i -e '/position: *absolute/d' html/search/search.css
sed -i -e 's/display: *block/display: inline/' html/search/search.css
#magnifying glass is hard-coded, and span="left" covers left and  middle of search box
sed -i -e '/mag_sel.png/,+3d' html/*html

#100% of the search results are doubled. Can't work out why.
sed -i -e 's/\],\[[^]]\+\]/]/' html/search/*js

#Use GNU sed to make modifications to the LaTeX version before producing a PDF

#The ch

#sed -i
#/pow/,+4 H
#/pow/,+4 d
#/input{designated}/ G

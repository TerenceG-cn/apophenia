<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html> <head>
     <title>Apophenia: a library for scientific computing</title>

<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>


     <link rel="stylesheet" href="typical.css" type="text/css" >
     <script  type="text/javascript" language="JavaScript" src="tree.js"></script>
</head><body>
     <center><table cellpadding=10pt>
     <tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td> 
    <td><table>
     	<tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
<tr><td><div class="qindex"><a class="qindex" href="index.html">&nbsp;Intro</a> | <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="globals.html">Index</a> <!--| <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
	</td></tr></table></center>

    <div> <!--Doxygen generates an extra </div>.-->
<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">apop_mcmc_proposal_s Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="apop_mcmc_proposal_s" --><h2><a name="pub-attribs"></a>
Data Fields</h2>
<ul>
<li><a class="el" href="structapop__model.html">apop_model</a> * <a class="el" href="structapop__mcmc__proposal__s.html#a1bdd649bb73a5c2968259ab920fdca11">proposal</a>
<li>void(* <a class="el" href="structapop__mcmc__proposal__s.html#ab9c381250e636bf50aed7db3664166f0">step_fn</a> )(double const *, struct <a class="el" href="structapop__mcmc__proposal__s.html">apop_mcmc_proposal_s</a> *, struct <a class="el" href="structapop__mcmc__settings.html">apop_mcmc_settings</a> *)
<li>int(* <a class="el" href="structapop__mcmc__proposal__s.html#a1b174018f698676a3cba42dcacf28615">adapt_fn</a> )(struct <a class="el" href="structapop__mcmc__proposal__s.html">apop_mcmc_proposal_s</a> *ps, struct <a class="el" href="structapop__mcmc__settings.html">apop_mcmc_settings</a> *ms)
<li><a class="anchor" id="a7a6d6bb7aeeb12ba4eb98abaeb676748"></a><!-- doxytag: member="apop_mcmc_proposal_s::accept_count" ref="a7a6d6bb7aeeb12ba4eb98abaeb676748" args="" -->
int <b>accept_count</b>
<li>int <a class="el" href="structapop__mcmc__proposal__s.html#a192618b78d9a36670c3ba5081916df29">reject_count</a>
</ul>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A proposal distribution for <a class="el" href="structapop__mcmc__settings.html">apop_mcmc_settings</a> and its accompanying functions and information. By default, these will be <a class="el" href="group__models.html#ga3a4389e6e2a1a2ea606f89d55ec558d3">apop_multivariate_normal</a> models. The <code>step_fn</code> and <code>adapt_fn</code> have to be written around the model and your preferences. For the defaults, the step function recenters the mean of the distribution around the last accepted proposal, and the adapt function widens the Î£ for the Normal if the accept rate is too low; narrows it if the accept rate is too large.</p>
<p>You may provide an array of proposals. The length of the list of proposals must match the number of chunks, as per the <code>gibbs_chunks</code> setting in the <a class="el" href="structapop__mcmc__settings.html">apop_mcmc_settings</a> group that the array of proposals is a part of. Each proposal must be initialized to include all elements, and the step and adapt functions probably have to be written anew for each type of model.</p>
<p>This segment of the interface is in beta. A future revision may make it easier to design new proposals. </p>
</div><hr/><h2>Field Documentation</h2>
<a class="anchor" id="a1b174018f698676a3cba42dcacf28615"></a><!-- doxytag: member="apop_mcmc_proposal_s::adapt_fn" ref="a1b174018f698676a3cba42dcacf28615" args=")(struct apop_mcmc_proposal_s *ps, struct apop_mcmc_settings *ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structapop__mcmc__proposal__s.html#a1b174018f698676a3cba42dcacf28615">apop_mcmc_proposal_s::adapt_fn</a>)(struct <a class="el" href="structapop__mcmc__proposal__s.html">apop_mcmc_proposal_s</a> *ps, struct <a class="el" href="structapop__mcmc__settings.html">apop_mcmc_settings</a> *ms)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called every step, to adapt the proposal distribution using information to this point in the chain. </p>

</div>
</div>
<a class="anchor" id="a1bdd649bb73a5c2968259ab920fdca11"></a><!-- doxytag: member="apop_mcmc_proposal_s::proposal" ref="a1bdd649bb73a5c2968259ab920fdca11" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapop__model.html">apop_model</a>* <a class="el" href="structapop__mcmc__proposal__s.html#a1bdd649bb73a5c2968259ab920fdca11">apop_mcmc_proposal_s::proposal</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The distribution from which test parameters will be drawn. After getting the draw using the <code>draw</code> method of the proposal, the base model's <code>parameters</code> element is filled using <a class="el" href="apop_8h.html#ad6be56d710a63aa1ceadf2242c553905">apop_data_fill</a>. If <code>NULL</code>, <a class="el" href="apop__mcmc_8c.html#a733c60eab5b69d89729565a3aeeb15d9">apop_model_metropolis</a> will use a Multivariate Normal with the appropriate dimension, mean zero, and covariance matrix I. If not <code>NULL</code>, be sure to parameterize your model with an initial position. </p>

</div>
</div>
<a class="anchor" id="a192618b78d9a36670c3ba5081916df29"></a><!-- doxytag: member="apop_mcmc_proposal_s::reject_count" ref="a192618b78d9a36670c3ba5081916df29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structapop__mcmc__proposal__s.html#a192618b78d9a36670c3ba5081916df29">apop_mcmc_proposal_s::reject_count</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>These are about this chunk. The <a class="el" href="structapop__mcmc__settings.html">apop_mcmc_settings</a> group has a total for the aggregate across all chunks. </p>

</div>
</div>
<a class="anchor" id="ab9c381250e636bf50aed7db3664166f0"></a><!-- doxytag: member="apop_mcmc_proposal_s::step_fn" ref="ab9c381250e636bf50aed7db3664166f0" args=")(double const *, struct apop_mcmc_proposal_s *, struct apop_mcmc_settings *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structapop__mcmc__proposal__s.html#ab9c381250e636bf50aed7db3664166f0">apop_mcmc_proposal_s::step_fn</a>)(double const *, struct <a class="el" href="structapop__mcmc__proposal__s.html">apop_mcmc_proposal_s</a> *, struct <a class="el" href="structapop__mcmc__settings.html">apop_mcmc_settings</a> *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Modifies the parameters of the proposal distribution given a successful draw. Typically, this function writes the drawn data point to the parameter set. If the draw is a scalar, the default function sets the 0th element of the model's <code>parameter</code> set with the draw (works for the <a class="el" href="group__models.html#ga297c2dc8dbdf4ae93fc7e10860400466">apop_normal</a> and other models). If the draw has multiple dimensions, they are all copied to the parameter set, which must have the same size. </p>

</div>
</div>
</div><!-- contents -->
<p><p>
<div class="tiny">Autogenerated by doxygen on Sun Aug 3 2014.</div></body></html>

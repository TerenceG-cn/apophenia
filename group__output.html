<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html> <head>
     <title>Apophenia: a library for scientific computing</title>
<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>
     <link rel="stylesheet" href="typical.css" type="text/css" >
     <script  type="text/javascript" language="JavaScript" src="tree.js"></script>
</head><body>
     <center><table cellpadding=10pt>
     <tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td> 
    <td><table>
     	<tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
<tr><td><div class="qindex"><a class="qindex" href="index.html">&nbsp;Intro</a> | <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="globals.html">Index</a> <!--| <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
	</td></tr></table></center>
    <div> <!--Doxygen generates an extra </div>.-->
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Printing to the screen or a text file</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__apop__print"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apop__print.html">Assorted printing functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab7bf9adff9b97c60c5839ae72ba4fb7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__output.html#gab7bf9adff9b97c60c5839ae72ba4fb7f">apop_model_print</a> (<a class="el" href="structapop__model.html">apop_model</a> *print_me, FILE *ap)</td></tr>
<tr class="separator:gab7bf9adff9b97c60c5839ae72ba4fb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a30c437ec11a11e37e0db7f82386275"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__output.html#ga9a30c437ec11a11e37e0db7f82386275">apop_data_show</a> (const <a class="el" href="structapop__data.html">apop_data</a> *in)</td></tr>
<tr class="separator:ga9a30c437ec11a11e37e0db7f82386275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca60728fc3b691acfcadebf3a8535532"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapop__data.html">apop_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__output.html#gaca60728fc3b691acfcadebf3a8535532">apop_data_summarize</a> (<a class="el" href="structapop__data.html">apop_data</a> *indata)</td></tr>
<tr class="separator:gaca60728fc3b691acfcadebf3a8535532"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Most functions print only to the screen, but the <a class="el" href="group__apop__print.html">matrix and vector printing functions</a> will let you print to a text file as well. The presumption is that statistic estimates are for your own consumption, while you are printing a matrix for import into another program. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9a30c437ec11a11e37e0db7f82386275"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void apop_data_show </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function prettyprints the <code><a class="el" href="structapop__data.html">apop_data</a></code> set to a screen.</p>
<p>This takes a lot of machinery. I write every last element to a text array, then measure column widths, then print to screen with padding to guarantee that everything lines up. There's no way to have the first element of a column line up with the last unless you interrogate the width of every element in the column, so printing columns really can't be a one-pass process.</p>
<p>So, I produce an <a class="el" href="gentle.html#apop_data">apop_data</a> set with no numeric elements and a text element to be filled with the input data set, and then print that. That means that I'll be using (more than) twice the memory to print this. If this is a problem, you can use <a class="el" href="group__apop__print.html">Assorted printing functions</a> to dump your data to a text file, and view the text file, or print subsets.</p>
<p>For more machine-readable printing, see <a class="el" href="group__apop__print.html#gab45a848e5dbcaf82b5b95cd03f7b396a">apop_data_print</a>. </p>

</div>
</div>
<a class="anchor" id="gaca60728fc3b691acfcadebf3a8535532"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapop__data.html">apop_data</a>* apop_data_summarize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapop__data.html">apop_data</a> *&#160;</td>
          <td class="paramname"><em>indata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Put summary information about the columns of a table (mean, std dev, variance, min, median, max) in a table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indata</td><td>The table to be summarized. An <a class="el" href="gentle.html#apop_data">apop_data</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="gentle.html#apop_data">apop_data</a> structure with one row for each column in the original table, and a column for each summary statistic. May have a <code>weights</code> element. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">out-&gt;error='a'</td><td>Allocation error.</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>This function gives more columns than you probably want; use <a class="el" href="apop_8h.html#a5ea849ee3c044e95eafb7b79124ce844">apop_data_prune_columns</a> to pick the ones you want to see. <dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>We should probably let this summarize rows as well. </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="gab7bf9adff9b97c60c5839ae72ba4fb7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void apop_model_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapop__model.html">apop_model</a> *&#160;</td>
          <td class="paramname"><em>print_me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print the results of an estimation for a human to look over.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">print_me</td><td>The model whose information should be displayed </td></tr>
    <tr><td class="paramname">ap</td><td>The output stream. If <code>NULL</code>, use <code>stdout</code>. If you'd like something else, use <code>fopen</code>. E.g.: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;FILE *out =fopen(&quot;outfile.txt&quot;, &quot;w&quot;); //or &quot;a&quot; to append.</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;apop_model_print(the_model, out);</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;fclose(out);  //optional in most cases.</div>
</div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>The default prints the name, parameters, info, &amp;c. but I check a vtable for alternate methods you define; see <a class="el" href="modeldetails.html#vtables">Registering new methods in vtables</a> for details. The typedef new functions must conform to and the hash used for lookups are:</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;typedef void (*apop_model_print_type)(apop_model *params, FILE *out);</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#define apop_model_print_hash(m1) ((m1)-&gt;log_likelihood ? (size_t)(m1)-&gt;log_likelihood : \</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;            (m1)-&gt;p ? (size_t)(m1)-&gt;p*33 : \</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;            (m1)-&gt;estimate ? (size_t)(m1)-&gt;estimate*33*33 : \</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            (m1)-&gt;draw ? (size_t)(m1)-&gt;draw*33*27  : \</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            (m1)-&gt;cdf ? (size_t)(m1)-&gt;cdf*27*27 : 27)</div>
</div><!-- fragment --><ul>
<li>All output should <code>fprintf</code> to the input <code>FILE*</code> handle. Apophenia's output routines also accept a file handle; e.g., if the file handle is named <code>out</code>, then if the <code>thismodel</code> print method uses <code>apop_data_print</code> to print the parameters, it must do so via a form like <code>apop_data_print(thismodel-&gt;parameters, .output_pipe=ap)</code>.</li>
</ul>
<ul>
<li>Your <code>print</code> method can use both by masking itself for a second: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;void print_method(apop_model *in, FILE* ap){</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  void *temp = in-&gt;estimate;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  in-&gt;estimate = NULL;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  apop_model_print(in, ap);</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  in-&gt;estimate = temp;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  printf(&quot;Additional info:\n&quot;);</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  ...</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div>
</div><!-- fragment --></li>
</ul>
<ul>
<li>Print methods are intended for human consumption and are subject to change. </li>
</ul>

</div>
</div>
</div><!-- contents -->
<p><p>
<div class="tiny">Autogenerated by doxygen on Mon Apr 20 2015.</div></body></html>

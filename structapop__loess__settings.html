<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html> <head>
     <title>Apophenia: a library for scientific computing</title>
<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>
     <link rel="stylesheet" href="typical.css" type="text/css" >
     <script  type="text/javascript" language="JavaScript" src="tree.js"></script>
</head><body>
     <center><table cellpadding=10pt>
     <tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td> 
    <td><table>
     	<tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
<tr><td><div class="qindex"><a class="qindex" href="index.html">&nbsp;Intro</a> | <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="globals.html">Index</a> <!--| <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
	</td></tr></table></center>
    <div> <!--Doxygen generates an extra </div>.-->
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">apop_loess_settings Struct Reference<div class="ingroups"><a class="el" href="group__settings.html">Settings</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ad64f4a7d66c18f064b028901276b79af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad64f4a7d66c18f064b028901276b79af"></a>
<a class="el" href="structapop__data.html">apop_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>data</b></td></tr>
<tr class="separator:ad64f4a7d66c18f064b028901276b79af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab59e07d7477389bc90a8fe727acf9a3c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab59e07d7477389bc90a8fe727acf9a3c"></a>
struct <a class="el" href="structloess__struct.html">loess_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><b>lo_s</b></td></tr>
<tr class="separator:ab59e07d7477389bc90a8fe727acf9a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8cc70a4be852404cc7cf1bd54e6008"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapop__loess__settings.html#a0c8cc70a4be852404cc7cf1bd54e6008">want_predict_ci</a></td></tr>
<tr class="separator:a0c8cc70a4be852404cc7cf1bd54e6008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7009d9ce26d3af9d7bd9c12baa7bcf"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapop__loess__settings.html#ace7009d9ce26d3af9d7bd9c12baa7bcf">ci_level</a></td></tr>
<tr class="separator:ace7009d9ce26d3af9d7bd9c12baa7bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The code for the loess system is based on FORTRAN code from 1988, overhauled in 1992, linked in to Apophenia in 2009. The structure that does all the work, then, is a <code><a class="el" href="structloess__struct.html">loess_struct</a></code> that you should basically take as opaque.</p>
<p>The useful settings from that struct re-appear in the <a class="el" href="structapop__loess__settings.html">apop_loess_settings</a> struct so you can set them directly, and then the settings init function will copy your preferences into the working struct.</p>
<p>The documentation for the elements is cut/pasted/modified from Cleveland, Grosse, and Shyu.</p>
<p><code>.data</code>: Mandatory. Your input data set. </p><pre class="fragment"> &lt;tt&gt;.lo_s.model.span&lt;/tt&gt;:    smoothing parameter. Default is 0.75.

 &lt;tt&gt;.lo_s.model.degree&lt;/tt&gt;: overall degree of locally-fitted polynomial. 1 is
           locally-linear fitting and 2 is locally-quadratic fitting. Default is 2.

 &lt;tt&gt;.lo_s.normalize&lt;/tt&gt;:     Should numeric predictors
           be normalized? If 'y' - the default - the standard normalization
           is used. If 'n', no normalization is carried out.

 \c .lo_s.model.parametric:    for two or more numeric predictors, this argument
           specifies those variables that should be
           conditionally-parametric. The argument should be a logical
           vector of length p, specified in the order of the predictor
           group ordered in x.  Default is a vector of 0's of length p.

 \c .lo_s.model.drop_square:   for cases with degree = 2, and with two or more
           numeric predictors, this argument specifies those numeric
           predictors whose squares should be dropped from the set of
           fitting variables. The method of specification is the same as
           for parametric.  Default is a vector of 0's of length p.

 \c .lo_s.model.family: the assumed distribution of the errors. The values are
         &lt;tt&gt;"gaussian"&lt;/tt&gt; or &lt;tt&gt;"symmetric"&lt;/tt&gt;. The first value is the default.
        If the second value is specified, a robust fitting procedure is used.

 \c lo_s.control.surface: determines whether the fitted surface is computed
        &lt;tt&gt;"directly"&lt;/tt&gt; at all points  or whether an &lt;tt&gt;"interpolation"&lt;/tt&gt;
        method is used. The default, interpolation, is what most users should use
           unless special circumstances warrant.

\c lo_s.control.statistics:    determines whether the statistical quantities are 
    computed &lt;tt&gt;"exactly"&lt;/tt&gt; or approximately, where &lt;tt&gt;"approximate"&lt;/tt&gt;
    is the default. The former should only be used for testing the approximation in
    statistical development and is not meant for routine usage because computation
    time can be horrendous.

    \c lo_s.control.cell: if interpolation is used to compute the surface,
    this argument specifies the maximum cell size of the k-d tree. Suppose k =
    floor(n*cell*span) where n is the number of observations.  Then a cell is
    further divided if the number of observations within it is greater than or
    equal to k. default=0.2

 \c lo_s.control.trace_hat: Options are &lt;tt&gt;"approximate"&lt;/tt&gt;, &lt;tt&gt;"exact"&lt;/tt&gt;, and &lt;tt&gt;"wait.to.decide"&lt;/tt&gt;.    
    When lo_s.control.surface is &lt;tt&gt;"approximate"&lt;/tt&gt;, determines
    the computational method used to compute the trace of the hat
    matrix, which is used in the computation of the statistical
    quantities.  If "exact", an exact computation is done; normally
    this goes quite fast on the fastest machines until n, the number
    of observations is 1000 or more, but for very slow machines,
    things can slow down at n = 300.  If "wait.to.decide" is selected,
    then a default is chosen in loess();  the default is "exact" for
    n &lt; 500 and "approximate" otherwise.  If surface is "exact", an
    exact computation is always done for the trace. Set trace_hat to
    "approximate" for large dataset will substantially reduce the
    computation time.

 \c lo_s.model.iterations:     if family is &lt;tt&gt;"symmetric"&lt;/tt&gt;, the number of iterations 
    of the robust fitting method.  Default is 0 for
    lo_s.model.family = gaussian; 4 for family=symmetric.

    That's all you can set. Here are some output parameters:

 \c fitted_values:   fitted values of the local regression model

 \c fitted_residuals:     residuals of the local regression fit

   \c  enp:          equivalent number of parameters.

   \c  s:       estimate of the scale of the residuals.

   \c  one_delta:    a statistical parameter used in the computation of standard errors.

   \c  two_delta:    a statistical parameter used in the computation of standard errors.

   \c  pseudovalues: adjusted values of the response when robust estimation is used.

 \c trace_hat:  trace of the operator hat matrix.

   \c  diagonal:     diagonal of the operator hat matrix.

   \c  robust:       robustness weights for robust fitting.

   \c  divisor: normalization divisor for numeric predictors.</pre> </div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ace7009d9ce26d3af9d7bd9c12baa7bcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_loess_settings::ci_level</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If running a prediction, the level at which to calculate the confidence interval. default: 0.95 </p>

</div>
</div>
<a class="anchor" id="a0c8cc70a4be852404cc7cf1bd54e6008"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apop_loess_settings::want_predict_ci</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If 'y' (the default), calculate the confidence bands for predicted values </p>

</div>
</div>
</div><!-- contents -->
<p><p>
<div class="tiny">Autogenerated by doxygen on Mon Apr 20 2015.</div></body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html> <head>
     <title>Apophenia: a library for scientific computing</title>
<!-- Google is watching. -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-134313-2";
urchinTracker();
</script>
     <link rel="stylesheet" href="typical.css" type="text/css" >
     <script  type="text/javascript" language="JavaScript" src="tree.js"></script>
</head><body>
     <center><table cellpadding=10pt>
     <tr> <td><img width=140px src=flake.gif alt="Patterns in static"></td> 
    <td><table>
     	<tr> <td><center><h2><a href="http://apophenia.info">Apophenia</a></h2></center></td></tr>
<tr><td><div class="qindex"><a class="qindex" href="index.html">&nbsp;Intro</a> | <a class="qindex" href="outline.html">Outline</a> | <a class="qindex" href="globals.html">Index</a> <!--| <a class="qindex" href="files.html">File&nbsp;List&nbsp;</a> -->  </div></td></tr></table>
	</td></tr></table></center>
    <div> <!--Doxygen generates an extra </div>.-->
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Calculate moments (mean, var, kurtosis) for the data in a gsl_vector.</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0f69c8414f1d93fa15f3a631710dcd7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#ga0f69c8414f1d93fa15f3a631710dcd7a">apop_mean</a>(in)</td></tr>
<tr class="separator:ga0f69c8414f1d93fa15f3a631710dcd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc311abe133963c7959162a7d3d83fb8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#gacc311abe133963c7959162a7d3d83fb8">apop_var</a>(in)&#160;&#160;&#160;<a class="el" href="apop__stats_8c.html#adcc397ab90933d79b3062206301a0aa0">apop_vector_var</a>(in)</td></tr>
<tr class="separator:gacc311abe133963c7959162a7d3d83fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac9d269f1dc62b038c0da72085cac1c28"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#gac9d269f1dc62b038c0da72085cac1c28">apop_vector_skew</a> (const gsl_vector *in)</td></tr>
<tr class="separator:gac9d269f1dc62b038c0da72085cac1c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5740c698174b1a265d182f4af1c0252"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#gaf5740c698174b1a265d182f4af1c0252">apop_vector_kurtosis</a> (const gsl_vector *in)</td></tr>
<tr class="separator:gaf5740c698174b1a265d182f4af1c0252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb284d668d567de4810620962043f827"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#gafb284d668d567de4810620962043f827">apop_vector_skew_pop</a> (gsl_vector const *v, gsl_vector const *weights)</td></tr>
<tr class="separator:gafb284d668d567de4810620962043f827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabe3183e8a6a496f3fd6ab316687381e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#gaabe3183e8a6a496f3fd6ab316687381e">apop_vector_kurtosis_pop</a> (gsl_vector const *v, gsl_vector const *weights)</td></tr>
<tr class="separator:gaabe3183e8a6a496f3fd6ab316687381e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2446385225c68c62ade26402c63600a4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#ga2446385225c68c62ade26402c63600a4">apop_vector_var_m</a> (const gsl_vector *in, const double mean)</td></tr>
<tr class="separator:ga2446385225c68c62ade26402c63600a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1154897fec0c56bc0161ed24c48759c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vector__moments.html#gae1154897fec0c56bc0161ed24c48759c">apop_vector_correlation</a> (const gsl_vector *ina, const gsl_vector *inb)</td></tr>
<tr class="separator:gae1154897fec0c56bc0161ed24c48759c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions simply take in a GSL vector and return its mean, variance, or kurtosis; the covariance functions take two GSL vectors as inputs.</p>
<dl class="section see"><dt>See also</dt><dd>db_moments</dd></dl>
<p>For <code>apop_vector_var_m(vector, mean)</code>, <code>mean</code> is the mean of the vector. This saves the trouble of re-calculating the mean if you've already done so. E.g.,</p>
<div class="fragment"><div class="line">gsl_vector *v;</div>
<div class="line"><span class="keywordtype">double</span> mean, var;</div>
<div class="line"></div>
<div class="line"><span class="comment">//Allocate v and fill it with data here.</span></div>
<div class="line">mean = <a class="code" href="apop_8h.html#ab20e5ad95df0f24a1ea06294695031a8">apop_vector_mean</a>(v);</div>
<div class="line">var  = <a class="code" href="group__vector__moments.html#ga2446385225c68c62ade26402c63600a4">apop_vector_var_m</a>(v, mean);</div>
<div class="line">printf(<span class="stringliteral">&quot;Your vector has mean %g and variance %g\n&quot;</span>, mean, var);</div>
</div><!-- fragment --> <h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga0f69c8414f1d93fa15f3a631710dcd7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define apop_mean</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">in</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the mean of the elements of the vector <code>v</code>.</p>
<p>An alias for <a class="el" href="apop__stats_8c.html#ab20e5ad95df0f24a1ea06294695031a8">apop_vector_mean</a>. Returns the mean of the data in the given vector. </p>

</div>
</div>
<a class="anchor" id="gacc311abe133963c7959162a7d3d83fb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define apop_var</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">in</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="apop__stats_8c.html#adcc397ab90933d79b3062206301a0aa0">apop_vector_var</a>(in)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An alias for <a class="el" href="apop__stats_8c.html#adcc397ab90933d79b3062206301a0aa0">apop_vector_var</a>. Returns the variance of the data in the given vector. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gae1154897fec0c56bc0161ed24c48759c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_vector_correlation </td>
          <td>(</td>
          <td class="paramtype">const gsl_vector *&#160;</td>
          <td class="paramname"><em>ina</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gsl_vector *&#160;</td>
          <td class="paramname"><em>inb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the correlation coefficient of two vectors. It's just <img class="formulaInl" alt="$ {\hbox{cov}(a,b)\over \sqrt(\hbox{var}(a)) * \sqrt(\hbox{var}(b))}.$" src="form_63.png"/> </p>

</div>
</div>
<a class="anchor" id="gaf5740c698174b1a265d182f4af1c0252"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_vector_kurtosis </td>
          <td>(</td>
          <td class="paramtype">const gsl_vector *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the sample kurtosis (divide by <img class="formulaInl" alt="$n-1$" src="form_57.png"/>) of the data in the given vector. Corrections are made to produce an unbiased result as per <a href="http://modelingwithdata.org/pdfs/moments.pdf">Appendix M</a> (PDF) of <em>Modeling with data</em>.</p>
<ul>
<li>This does not normalize the output: the kurtosis of a <img class="formulaInl" alt="${\cal N}(0,1)$" src="form_58.png"/> is <img class="formulaInl" alt="$3 \sigma^4$" src="form_59.png"/>, not three, one, or zero. </li>
</ul>

</div>
</div>
<a class="anchor" id="gaabe3183e8a6a496f3fd6ab316687381e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_vector_kurtosis_pop </td>
          <td>(</td>
          <td class="paramtype">gsl_vector const *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gsl_vector const *&#160;</td>
          <td class="paramname"><em>weights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the population kurtosis ( <img class="formulaInl" alt="$\sum_i (x_i - \mu)^4/n)$" src="form_62.png"/>) of the data in the given vector, with an optional weighting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The data vector </td></tr>
    <tr><td class="paramname">weights</td><td>The weight vector. If NULL, assume equal weights. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The weighted kurtosis. No sample adjustment given weights.</dd></dl>
<ul>
<li>Some people like to normalize the kurtosis by dividing by variance squared, or by subtracting three; those things are not done here, so you'll have to do them separately if need be. </li>
<li>This function uses the <a class="el" href="designated.html">Designated initializers</a> syntax for inputs. </li>
</ul>

</div>
</div>
<a class="anchor" id="gac9d269f1dc62b038c0da72085cac1c28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_vector_skew </td>
          <td>(</td>
          <td class="paramtype">const gsl_vector *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an unbiased estimate of the sample skew (population skew times y <img class="formulaInl" alt="$n^2/(n^2-1)$" src="form_56.png"/>) of the data in the given vector. </p>

</div>
</div>
<a class="anchor" id="gafb284d668d567de4810620962043f827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_vector_skew_pop </td>
          <td>(</td>
          <td class="paramtype">gsl_vector const *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gsl_vector const *&#160;</td>
          <td class="paramname"><em>weights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the population skew <img class="formulaInl" alt="$(\sum_i (x_i - \mu)^3/n))$" src="form_60.png"/> of the data in the given vector. Observations may be weighted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The data vector </td></tr>
    <tr><td class="paramname">weights</td><td>The weight vector. Default: equal weights for all observations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The weighted skew. No sample adjustment given weights.</dd></dl>
<ul>
<li>Some people like to normalize the skew by dividing by variance <img class="formulaInl" alt="$^{3/2}$" src="form_61.png"/>; that's not done here, so you'll have to do so separately if need be.</li>
</ul>
<ul>
<li>Apophenia tries to be smart about reading the weights. If weights sum to one, then the system uses <code>w-&gt;size</code> as the number of elements, and returns the usual sum over <img class="formulaInl" alt="$n-1$" src="form_57.png"/>. If weights &gt; 1, then the system uses the total weights as <img class="formulaInl" alt="$n$" src="form_10.png"/>. Thus, you can use the weights as standard weightings or to represent elements that appear repeatedly. </li>
</ul>

</div>
</div>
<a class="anchor" id="ga2446385225c68c62ade26402c63600a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double apop_vector_var_m </td>
          <td>(</td>
          <td class="paramtype">const gsl_vector *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>mean</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the variance of the data in the given vector, given that you've already calculated the mean. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>the vector in question </td></tr>
    <tr><td class="paramname">mean</td><td>the mean, which you've already calculated using <a class="el" href="apop__stats_8c.html#ab20e5ad95df0f24a1ea06294695031a8">apop_vector_mean</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<p><p>
<div class="tiny">Autogenerated by doxygen on Mon Apr 20 2015.</div></body></html>
